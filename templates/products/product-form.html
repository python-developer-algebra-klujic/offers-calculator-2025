{% extends 'base/base.html' %}

{% block page_title %}CREATE PRODUCT{% endblock page_title %}

{% block page_heading %}
<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4">
	<h1 class="h4 mb-0 text-gray-800">Create product</h1>
	<div>
		<a
			href="{% url 'products:home' %}"
			class="d-none d-sm-inline-block btn btn-sm btn-secondary shadow-sm"
			><i class="fas fa-arrow-left text-white-50"></i> Back to list
		</a>
	</div>
</div>
{% endblock page_heading %} {% block content %}

<div class="row">
  <div class="col-md-8">
    <form class="row" method="POST">
      {% csrf_token %}

        <div class="col-md-12 mb-3">
          <label for="name" class="form-label">Product name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            placeholder="Enter product name" />
        </div>
        <div class="col-md-12 mb-3">
          <label for="code" class="form-label">Product code</label>
          <input
            type="text"
            class="form-control"
            id="code"
            name="code"
            placeholder="Enter product code" />
        </div>
        <div class="col-md-12 mb-3">
          <label for="description" class="form-label">Product description</label>
            <textarea class="form-control"
                      name="description"
                      id="description" rows="3"></textarea>
        </div>
        <div class="col-md-12 mb-3">
          <label for="base_price" class="form-label">Product base price</label>
          <input
            type="number"
            class="form-control"
            id="base_price"
            name="base_price"
            step="0.001"
            placeholder="Enter product base price" />
        </div>
        <div class="col-md-12 mb-3">
            <label for="fixed_costs" class="form-label">Product fixed costs</label>
            <input
              type="number"
              class="form-control"
              id="fixed_costs"
              name="fixed_costs"
              step="0.001"
              placeholder="Enter product fixed costs" />
          </div>
        <div class="col-md-12 mb-3">
          <label for="price_mod" class="form-label">Product price mod</label>
          <input
            type="number"
            class="form-control"
            id="price_mod"
            name="price_mod"
            step="0.001"
            placeholder="Enter product price modification" />
        </div>
        <div class="col-md-12 mb-3">
          <label for="final_price" class="form-label">Product final price</label>
          <input
            type="number"
            class="form-control"
            id="final_price"
            name="final_price"
            step="0.001"
            placeholder="Enter product final price" />
        </div>

        <div class="col-md-12 mb-3 form-group">
            <label for="ingredients">Product's ingredients</label>
            <select multiple
                    class="form-control"
                    name="ingredients"
                    id="ingredients">
                    {% for ingredient in ingredients_list %}
                        <option value="{{ ingredient.id }}">
                            {{ ingredient.name }} ({{ ingredient.final_price | floatformat:"2g"  }} EUR)
                        </option>
                    {% endfor %}
            </select>
        </div>

        <div class="col-md-12 mb-3 form-group">
            <label for="ingredients_from_products">Product's as ingredients</label>
            <select multiple
                    class="form-control"
                    name="ingredients_from_products"
                    id="ingredients_from_products">
                    {% for product_as_ingredient in ingredients_from_products_list %}
                        <option value="{{ product_as_ingredient.id }}">
                            {{ product_as_ingredient.name }} ({{ product_as_ingredient.final_price | floatformat:"2g"  }} EUR)
                        </option>
                    {% endfor %}
            </select>
        </div>

        <div class="col-12">
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>
  </div>
</div>


{% endblock content %}
